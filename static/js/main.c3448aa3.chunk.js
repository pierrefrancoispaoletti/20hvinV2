(this["webpackJsonp20hvin-v2-frontend"]=this["webpackJsonp20hvin-v2-frontend"]||[]).push([[0],{107:function(e,t,n){},138:function(e,t,n){},139:function(e,t,n){},140:function(e,t,n){},141:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(14),o=n.n(i),c=(n(107),n(28)),r=n(54),s=n(10),l=n(64),d=n(13),u=n(178),p=n(25),j=n(180),b=n(143),g=n(198),h=n(182),f=n(185),O=n(204),m=n(188),x=n(206),v=n(199),y=n(207),C=n(186),S=n(208),w=n(145),N=n(183),k=n(184),_=n(24),P=n.n(_),B=[{categoryName:"suggestions",title:"Suggestions",icon:"/20hvinV2/assets/icons/suggestions.png"},{categoryName:"pizzas",title:"Pizzas",tags:["Rouge","Blanche"],icon:"/20hvinV2/assets/icons/pizza.png"},{categoryName:"pasta",title:"La Pasta",icon:"/20hvinV2/assets/icons/spaguetti.png"},{categoryName:"menu-enfant",title:"Menu Enfant",icon:"/20hvinV2/assets/icons/girl.png"},{categoryName:"cote-mer",title:"Cot\xe9 Mer",icon:"/20hvinV2/assets/icons/fish.png"},{categoryName:"pizzas-sucrees",title:"Pizzas sucr\xe9es",icon:"/20hvinV2/assets/icons/pizza-nutella.png"},{categoryName:"antipasti",title:"Antipasti",icon:"/20hvinV2/assets/icons/antipasto.png"},{categoryName:"douceur",title:"Nos Douceurs du Jour",icon:"/20hvinV2/assets/icons/cupcake.png"},{categoryName:"vins",title:"Vins",tags:["Rouge","Blanc","Ros\xe9","50cl","75cl","Au Verre","Magnum","Muscat"],icon:"/20hvinV2/assets/icons/wine.png"},{categoryName:"champagnes",title:"Champagnes",tags:["Brut","Blanc de Blanc","Ros\xe9","75cl","La Coupe","La Piscine","Magnum"],icon:"/20hvinV2/assets/icons/champagne.png"},{categoryName:"softs",title:"Softs",icon:"/20hvinV2/assets/icons/soft-drink.png"},{categoryName:"cocktails",title:"Cocktails",tags:["Avec Alcool","Sans Alcool"],icon:"/20hvinV2/assets/icons/cocktail.png"},{categoryName:"aperitifs",title:"Aperitifs",icon:"/20hvinV2/assets/icons/aperitive.png"},{categoryName:"digestifs",title:"Digestifs",icon:"/20hvinV2/assets/icons/cognac.svg"},{categoryName:"bieres",title:"Bi\xe8res",icon:"/20hvinV2/assets/icons/beer.png"}],M=n(2),A=function(e){var t=e.products,n=e.setProducts,i=e.showAddProduct,o=e.setShowAddProduct,c=e.setOpenLoginModal,r=Object(d.h)(),l=Object(u.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"white",padding:e.spacing(1)},formControl:{margin:e.spacing(1)},selectEmpty:{marginTop:e.spacing(2)},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},noLabel:{marginTop:e.spacing(3)}}}));function _(e,t,n){return{fontWeight:-1===t.indexOf(e)?n.typography.fontWeightRegular:n.typography.fontWeightMedium}}var A=Object(p.a)(),F={PaperProps:{style:{maxHeight:224,width:250}}},D=l(),z=Object(a.useState)(""),L=Object(s.a)(z,2),W=L[0],I=L[1],V=Object(a.useState)(""),E=Object(s.a)(V,2),U=E[0],T=E[1],q=Object(a.useState)(null),G=Object(s.a)(q,2),R=G[0],H=G[1],J=Object(a.useState)(""),Z=Object(s.a)(J,2),X=Z[0],Y=Z[1],K=Object(a.useState)([]),Q=Object(s.a)(K,2),$=Q[0],ee=Q[1],te=function(e){ee(e.target.value)},ne={title:W,description:U,price:R,category:X,tag:$||[]};return Object(a.useEffect)((function(){Y(r.category)}),[r]),Object(M.jsxs)(j.a,{children:[Object(M.jsx)(b.a,{style:{textAlign:"center"},variant:"h4",children:"Ajouter un Produit"}),Object(M.jsx)(g.a,{style:{display:"flex",justifyContent:"center"},children:Object(M.jsx)(h.a,{onClick:function(){return o(!i)},children:i?Object(M.jsx)(k.a,{fontSize:"large",style:{color:"red"}}):Object(M.jsx)(N.a,{fontSize:"large",style:{color:"green"}})})}),Object(M.jsx)(f.a,{in:i,children:Object(M.jsxs)("form",{className:D.root,onSubmit:function(e){e.preventDefault();var a=localStorage.getItem("token20hvin");a?P()({method:"post",url:"https://backend20h20.herokuapp.com/api/products/createProduct",data:ne,headers:{Authorization:"Bearer "+a}}).then((function(e){var a=t.concat(e.data.data);n(a)})).then((function(){I(""),T(""),H(null),ee([])})):c(!0)},children:[Object(M.jsx)(O.a,{id:"title",label:"Nom du produit",fullWidth:!0,value:W,onChange:function(e){return I(e.target.value)},required:!0}),Object(M.jsx)(O.a,{id:"description",fullWidth:!0,multiline:!0,label:"Description du produit",value:U,onChange:function(e){return T(e.target.value)},rows:4}),Object(M.jsx)(O.a,{id:"price",fullWidth:!0,label:"Prix du produit",required:!0,type:"number",InputProps:{inputProps:{min:0,step:.5}},value:R,onChange:function(e){return H(e.target.value)}}),Object(M.jsxs)(m.a,{className:D.formControl,fullWidth:!0,required:!0,children:[Object(M.jsx)(x.a,{id:"demo-simple-select-label",children:"Categorie"}),Object(M.jsx)(v.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:X,onChange:function(e){Y(e.target.value)},children:B.map((function(e){return Object(M.jsx)(y.a,{value:e.categoryName,children:e.title})}))})]}),B.map((function(e){return void 0!==e.tags&&e.categoryName===X&&Object(M.jsxs)(m.a,{className:D.formControl,fullWidth:!0,required:!0,children:[Object(M.jsx)(x.a,{id:"demo-mutiple-chip-label",children:"Tags"}),Object(M.jsx)(v.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",multiple:!0,value:$,onChange:te,input:Object(M.jsx)(C.a,{id:"select-multiple-chip"}),renderValue:function(e){return Object(M.jsx)("div",{className:D.chips,children:e.map((function(e){return Object(M.jsx)(S.a,{label:e,className:D.chip},e)}))})},MenuProps:F,children:B.map((function(e){return void 0!==e.tags&&e.categoryName===X&&e.tags.map((function(e){return Object(M.jsx)(y.a,{value:e,style:_(e,$,A),children:e},e)}))}))})]})})),Object(M.jsx)(w.a,{color:"primary",type:"submit",variant:"contained",children:"Ajouter un produit"})]})})]})},F=(n(138),function(e){var t=e.loading;return Object(a.useEffect)((function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=document.querySelector(".wine-loader__wine__stop-1"),n=document.querySelector(".wine-loader__wine__stop-2"),a=.98,i=a/50,o=-1;window.setInterval((function(){var e=t.offset.baseVal;.98!=e.toFixed(2)&&0!=e.toFixed(2)||(o*=-1),t.setAttribute("offset",t.offset.baseVal+i*o),n.setAttribute("offset",n.offset.baseVal+i*o)}),e)}()}),[t]),Object(M.jsx)("div",{class:"wine-loader",children:Object(M.jsx)("div",{class:"wine__icon",children:Object(M.jsxs)("svg",{width:"103",height:"221",viewBox:"0 0 103 221",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(M.jsx)("ellipse",{class:"wine-loader__base",cx:"53.3448",cy:"211.131",rx:"29.0207",ry:"7.82862",fill:"#CFD8DE"}),Object(M.jsx)("path",{d:"M24.9364 211.214C27.6951 222.779 79.646 221.775 81.9479 211.214",stroke:"#BBC6CD"}),Object(M.jsx)("path",{class:"wine-loader__stem__line",d:"M45.2728 207.773C45.7034 208.026 49.3507 211.546 53.682 211.243C58.0132 210.939 60.926 208.862 61.8885 207.773",stroke:"#BBC6CD"}),Object(M.jsx)("path",{class:"wine-loader__stem",d:"M50.6965 182.111C50.8778 170.978 49.962 146.421 45.1195 138.867L52.1696 139.268C52.1696 139.268 62.3279 137.937 60.0944 138.327C57.8609 138.717 55.6702 160.724 55.9189 182.111C56.1178 199.22 59.9807 206.316 61.8873 207.725C59.732 210.295 53.3747 213.893 45.1873 207.725C49.9316 203.349 50.8369 188.825 50.6965 182.111Z",fill:"#D0E0EA"}),Object(M.jsx)("path",{class:"wine-loader__glass__shadow",d:"M59.4114 138.925C56.0309 139.499 48.3337 139.095 45.2942 139.095C46.5273 141.306 47.4156 144.254 47.7051 145.595H57.854C58.0003 144.461 58.5397 141.519 59.4114 138.925Z",fill:"url(#paint0_linear)","fill-opacity":"0.14"}),Object(M.jsx)("path",{class:"wine-loader__glass",d:"M102.699 107.453C102.39 90.0012 93.8088 39.3831 85.6992 7.45316H13.5996C6.10754 44.9654 -0.414182 90.3732 0.329871 107.453C1.07392 124.533 22.2793 139.414 52.4133 139.414C82.5473 139.414 103.009 124.905 102.699 107.453Z",fill:"url(#paint1_linear)"}),Object(M.jsx)("path",{d:"M96.7567 80.0351L5.09615 79.0666C5.09615 79.0666 3.13212 89.4363 3.84069 105.702C4.54926 121.967 23.7434 136.138 52.4403 136.138C81.1371 136.138 99.6227 122.321 99.328 105.702C99.0333 89.082 96.7567 80.0351 96.7567 80.0351Z",fill:"url(#paint3_linear)"}),Object(M.jsx)("path",{class:"wine-loader__shine--light",opacity:"0.3",d:"M32.5024 127.848C-7.72748 120.164 6.69586 94.7077 17.1336 14.617C26.1615 17.7811 31.8243 17.5551 34.0844 17.7811C30.4682 44.2243 23.8236 105.247 32.5024 127.848Z",fill:"url(#paint5_linear)"}),Object(M.jsxs)("defs",{children:[Object(M.jsxs)("linearGradient",{id:"paint0_linear",x1:"52.2767",y1:"139.286",x2:"52.2767",y2:"145.595",gradientUnits:"userSpaceOnUse",children:[Object(M.jsx)("stop",{}),Object(M.jsx)("stop",{offset:"1","stop-opacity":"0"})]}),Object(M.jsxs)("linearGradient",{id:"paint1_linear",x1:"102.703",y1:"105.11",x2:"0.271844",y2:"105.11",gradientUnits:"userSpaceOnUse",children:[Object(M.jsx)("stop",{"stop-color":"#BDC8CF"}),Object(M.jsx)("stop",{offset:"0.502762","stop-color":"#F6F9FC"}),Object(M.jsx)("stop",{offset:"1","stop-color":"#BDC8CF"})]}),Object(M.jsxs)("linearGradient",{id:"paint2_linear",x1:"13.5925",y1:"10.1636",x2:"85.6914",y2:"7.33961",gradientUnits:"userSpaceOnUse",children:[Object(M.jsx)("stop",{"stop-color":"#E0F1FC"}),Object(M.jsx)("stop",{offset:"0.502762","stop-color":"#C5D7E2"}),Object(M.jsx)("stop",{offset:"1","stop-color":"#E0F1FC"})]}),Object(M.jsxs)("linearGradient",{id:"paint3_linear",x1:"51.509",y1:"77.6027",x2:"51.509",y2:"136.138",gradientUnits:"userSpaceOnUse",children:[Object(M.jsx)("stop",{class:"wine-loader__wine__stop-1",offset:"0","stop-color":"transparent"}),Object(M.jsx)("stop",{class:"wine-loader__wine__stop-2",offset:"0.000001","stop-color":"#903A3A"}),Object(M.jsx)("stop",{class:"wine-loader__wine__stop-3",offset:".999999","stop-color":"#551B1B"}),Object(M.jsx)("stop",{class:"wine-loader__wine__stop-4",offset:"1","stop-color":"transparent"})]}),Object(M.jsxs)("linearGradient",{id:"paint4_linear",x1:"50.8837",y1:"73.5379",x2:"50.8837",y2:"86.4282",gradientUnits:"userSpaceOnUse",children:[Object(M.jsx)("stop",{"stop-color":"#883A3A"}),Object(M.jsx)("stop",{offset:"1","stop-color":"#A14545"})]}),Object(M.jsxs)("linearGradient",{id:"paint5_linear",x1:"9.22325",y1:"74.5097",x2:"28.8862",y2:"75.6398",gradientUnits:"userSpaceOnUse",children:[Object(M.jsx)("stop",{"stop-color":"white"}),Object(M.jsx)("stop",{offset:"0.690608","stop-color":"white","stop-opacity":"0"}),Object(M.jsx)("stop",{offset:"1","stop-color":"white","stop-opacity":"0"})]}),Object(M.jsxs)("linearGradient",{id:"paint6_linear",x1:"93.0295",y1:"75.5097",x2:"74.5723",y2:"76.5051",gradientUnits:"userSpaceOnUse",children:[Object(M.jsx)("stop",{}),Object(M.jsx)("stop",{offset:"0.690608","stop-opacity":"0"}),Object(M.jsx)("stop",{offset:"1","stop-opacity":"0"})]})]})]})})})}),D=n(190),z=n(191),L=n(192),W=n(193),I=n(201),V=function(e){var t=e.openEditModal,n=e.setOpenEditModal,i=e.product,o=e.setProducts,r=e.setLoading,l=e.setOpenLoginModal,d=i.title,j=i.description,b=i.price,g=i.category,h=i.tag,f=Object(a.useState)(d),N=Object(s.a)(f,2),k=N[0],_=N[1],A=Object(a.useState)(j),F=Object(s.a)(A,2),D=F[0],z=F[1],L=Object(a.useState)(b),W=Object(s.a)(L,2),V=W[0],E=W[1],U=Object(a.useState)(g),T=Object(s.a)(U,2),q=T[0],G=T[1],R=Object(a.useState)(h),H=Object(s.a)(R,2),J=H[0],Z=H[1],X=Object(u.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"white",padding:e.spacing(1)},modal:{marginTop:"50%"},formControl:{margin:e.spacing(1)},selectEmpty:{marginTop:e.spacing(2)},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},noLabel:{marginTop:e.spacing(3)}}}));function Y(e,t,n){return{fontWeight:-1===t.indexOf(e)?n.typography.fontWeightRegular:n.typography.fontWeightMedium}}var K=Object(p.a)(),Q={PaperProps:{style:{maxHeight:224,width:250}}},$=X(),ee=function(e){Z(e.target.value)};return Object(M.jsx)(I.a,{open:t,onClose:function(){return n(!1)},className:$.modal,children:Object(M.jsxs)("form",{className:$.root,onSubmit:function(e){e.preventDefault();var t=localStorage.getItem("token20hvin");if(t){r(!0);var a=Object(c.a)({},i);a.title=k||d,a.description=D,a.price=V||b,a.category=q||q,a.tag=J||h,a.visibility=i.visibility,P()({method:"post",url:"https://backend20h20.herokuapp.com/api/products/updateProduct",data:{update:a,productId:i._id,productCategory:i.category},headers:{Authorization:"Bearer "+t}}).then((function(e){return o(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return r(!1)}))}else n(!1),l(!0)},children:[Object(M.jsx)(O.a,{id:"title",label:"Nom du produit",fullWidth:!0,value:k,onChange:function(e){return _(e.target.value)},required:!0}),Object(M.jsx)(O.a,{id:"description",fullWidth:!0,multiline:!0,label:"Description du produit",value:D,onChange:function(e){return z(e.target.value)},rows:4}),Object(M.jsx)(O.a,{id:"price",fullWidth:!0,label:"Prix du produit",required:!0,type:"number",InputProps:{inputProps:{min:0,step:.5}},value:V,onChange:function(e){return E(e.target.value)}}),Object(M.jsxs)(m.a,{className:$.formControl,fullWidth:!0,required:!0,children:[Object(M.jsx)(x.a,{id:"demo-simple-select-label",children:"Categorie"}),Object(M.jsx)(v.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:q,onChange:function(e){G(e.target.value)},children:B.map((function(e){return Object(M.jsx)(y.a,{value:e.categoryName,children:e.title},e)}))})]}),B.map((function(e){return void 0!==e.tags&&e.categoryName===q&&Object(M.jsxs)(m.a,{className:$.formControl,fullWidth:!0,required:!0,children:[Object(M.jsx)(x.a,{id:"demo-mutiple-chip-label",children:"Tags"}),Object(M.jsx)(v.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",multiple:!0,value:J,onChange:ee,input:Object(M.jsx)(C.a,{id:"select-multiple-chip"}),renderValue:function(e){return Object(M.jsx)("div",{className:$.chips,children:e.map((function(e){return Object(M.jsx)(S.a,{label:e,className:$.chip},e)}))})},MenuProps:Q,children:B.map((function(e){return void 0!==e.tags&&e.categoryName===q&&e.tags.map((function(e){return Object(M.jsx)(y.a,{value:e,style:Y(e,J,K),children:e},e)}))}))})]})})),Object(M.jsxs)(w.a,{color:"primary",type:"submit",variant:"contained",children:["Editer le produit ","".concat(i.category," ").concat(i.title)]})]})})},E=function(e){var t=e.product,n=e.handleDeleteProduct,i=e.setProducts,o=e.setLoading,r=e.user,d=e.setOpenLoginModal,u=Object(a.useState)(!1),p=Object(s.a)(u,2),j=p[0],g=p[1];return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(V,{setOpenLoginModal:d,product:t,openEditModal:j,setOpenEditModal:g,setProducts:i,setLoading:o}),"isAdmin"===r&&Object(M.jsxs)(D.a,{variant:"contained",size:"large",children:[Object(M.jsx)(h.a,{size:"medium",onClick:function(){return n(null===t||void 0===t?void 0:t._id,null===t||void 0===t?void 0:t.category)},children:Object(M.jsx)(k.a,{fontSize:"large",style:{color:"red",backgroundColor:"whitesmoke",borderRadius:"100%"}})}),Object(M.jsx)(h.a,{size:"medium",onClick:function(){var e=Object(c.a)({},t);e.visibility=!t.visibility;var n=localStorage.getItem("token20hvin");n?(o(!0),P()({method:"post",url:"https://backend20h20.herokuapp.com/api/products/updateProduct",data:{update:e,productId:t._id,productCategory:t.category},headers:{Authorization:"Bearer "+n}}).then((function(e){return i(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return o(!1)}))):d(!0)},children:t&&!t.visibility?Object(M.jsx)(z.a,{fontSize:"large",style:{color:"grey",backgroundColor:"whitesmoke",borderRadius:"100%"}}):Object(M.jsx)(L.a,{fontSize:"large",style:{color:"grey",backgroundColor:"whitesmoke",borderRadius:"100%"}})}),Object(M.jsx)(h.a,{size:"medium",onClick:function(){return g(!0)},children:Object(M.jsx)(W.a,{fontSize:"large",style:{color:"green",backgroundColor:"whitesmoke",borderRadius:"100%"}})})]}),("isAdmin"===r||(null===t||void 0===t?void 0:t.visibility))&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("div",{style:{display:"flex",flexDirection:"row",flexGrow:1,marginBottom:2,marginTop:8},children:Object(M.jsxs)("div",{style:{display:"flex",flexGrow:1,alignSelf:"flex-start",justifyContent:"space-between"},children:[Object(M.jsx)(b.a,{style:{borderBottom:"1px solid #FF3B2D",fontSize:"1.1em"},children:(null===t||void 0===t?void 0:t.visibility)?null===t||void 0===t?void 0:t.title:"Cach\xe9 : ".concat(null===t||void 0===t?void 0:t.title)}),Object(M.jsxs)(b.a,{variant:"body1",component:"span",children:[null===t||void 0===t?void 0:t.price.toFixed(2),"\u20ac"]})]})}),Object(M.jsx)(b.a,{variant:"body2",component:"p",style:{marginBottom:8,marginTop:3},children:Object(M.jsx)(l.a,{children:null===t||void 0===t?void 0:t.description})}),("vins"===(null===t||void 0===t?void 0:t.category)||"champagnes"===(null===t||void 0===t?void 0:t.category))&&(null===t||void 0===t?void 0:t.tag.map((function(e){return Object(M.jsx)(b.a,{variant:"body2",component:"span",children:" ".concat(e," ")},(null===t||void 0===t?void 0:t.category)+e)})))]})]})},U=n(5),T=n(194),q=n(200),G=n(195),R=function(e){var t=e.tags,n=e.setFilter,i=Object(a.useState)(0),o=Object(s.a)(i,2),r=o[0],l=o[1],d=Object(u.a)((function(e){return{root:{display:"flex",justifyContent:"center",margin:e.spacing(2),backgroundColor:"#202020"},appbar:{backgroundColor:"#202020"}}})),p=Object(U.a)({indicator:{backgroundColor:"#FF3B2D"}})(q.a),j=d(),b=function(e){return{id:"tagSelector-tab-".concat(e),"aria-controls":"tagSelector-tabpanel-".concat(e)}};return Object(M.jsx)("div",{className:j.root,children:(void 0!==t||t!==[])&&Object(M.jsx)(T.a,{position:"static",className:j.appbar,children:Object(M.jsxs)(p,{value:r,onChange:function(e,t){l(t)},"aria-label":"tag selector",variant:"scrollable",scrollButtons:"on",children:[Object(M.jsx)(G.a,Object(c.a)({onClick:function(){return n("")},label:"Tout"},b(0)),"All"),t.map((function(e,t){return Object(M.jsx)(G.a,Object(c.a)({onClick:function(){return n(e)},label:e},b(t)),"tag ".concat(e))}))]})})})},H=function(e){var t=e.product,n=e.products,i=e.setProducts,o=e.user,c=e.setOpenLoginModal,r=Object(a.useState)(!1),l=Object(s.a)(r,2),p=l[0],h=l[1],f=Object(d.h)().category,O=Object(a.useState)([]),m=Object(s.a)(O,2),x=m[0],v=m[1],y=Object(a.useState)(""),C=Object(s.a)(y,2),S=C[0],w=C[1],N=Object(a.useState)(n),k=Object(s.a)(N,2),_=k[0],A=k[1],D=Object(u.a)((function(e){return{titleWrapper:{display:"flex",justifyContent:"center"},title:{display:"inline",borderBottom:"2px solid #FF3B2D",margin:e.spacing(2)}}}))();Object(a.useEffect)((function(){A(""===S?n:function(e,t){return t?e.filter((function(e){return e.tag.includes(t)})):e}(n,S))}),[S,f,n]),Object(a.useEffect)((function(){w("");var e=B.filter((function(e){return e.categoryName===f}));v(e[0].tags),h(!0),P()({method:"get",url:"https://backend20h20.herokuapp.com/api/products/".concat(f)}).then((function(e){i(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return h(!1)}))}),[f]);var z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f,n=localStorage.getItem("token20hvin");n?(h(!0),P()({method:"delete",url:"https://backend20h20.herokuapp.com/api/products/deleteProduct",data:{productId:e,productCategory:t},headers:{Authorization:"Bearer "+n}}).then((function(e){return i(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return h(!1)}))):c(!0)};return Object(M.jsxs)(j.a,{className:D.root,component:"div",children:[x&&Object(M.jsx)(R,{tags:x,setFilter:w,products:n}),Object(M.jsxs)(j.a,{children:[!p&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(g.a,{component:"div",className:D.titleWrapper,children:Object(M.jsx)(b.a,{variant:"h4",component:"h2",className:D.title,children:t})}),_&&_.sort((function(e,t){return t.price-e.price})).map((function(e){return Object(M.jsx)(E,{product:e,handleDeleteProduct:z,setProducts:i,setLoading:h,user:o,setOpenLoginModal:c},"".concat(null===e||void 0===e?void 0:e.title," ").concat(null===e||void 0===e?void 0:e.category))}))]}),p&&Object(M.jsx)(F,{loading:p})]})]})},J=n(203),Z=n(202),X=function(e){var t=e.openLoginModal,n=e.setOpenLoginModal,i=e.setUser,o=Object(a.useState)(""),c=Object(s.a)(o,2),r=c[0],l=c[1],d=Object(a.useState)(""),p=Object(s.a)(d,2),g=p[0],h=p[1],f=Object(a.useState)(""),m=Object(s.a)(f,2),x=m[0],v=m[1],y=Object(a.useState)(!1),C=Object(s.a)(y,2),S=C[0],N=C[1],k=Object(a.useState)(!1),_=Object(s.a)(k,2),B=(_[0],_[1]),A=Object(u.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"white",padding:e.spacing(1)},modal:{marginTop:"50%"},input:{margin:e.spacing(3)}}}))();return Object(M.jsx)(I.a,{className:A.modal,open:t,onClose:function(){return n(!1)},children:Object(M.jsxs)("form",{className:A.root,onSubmit:function(e){e.preventDefault(),P()({method:"post",url:"https://backend20h20.herokuapp.com/auth/login",data:{email:r,password:g}}).then((function(e){e&&200===e.data.status?(N(!1),i(e.data.role),localStorage.setItem("token20hvin",e.data.token),v(e.data.message),setTimeout((function(){n(!1)}),5e3)):(N(!0),v(e.data.message))}))},children:[Object(M.jsx)(j.a,{style:{borderBottom:"1px solid black",textAlign:"center"},children:Object(M.jsx)(b.a,{variant:"h6",children:"Se connecter"})}),Object(M.jsx)(J.a,{open:!!x,autoHideDuration:5e3,onClose:function(){return B(!1)},children:Object(M.jsx)(Z.a,{severity:S?"error":"success",onClose:function(){return B(!1)},children:x})}),Object(M.jsx)(O.a,{error:S,className:A.input,label:"Email",type:"email",value:r,onChange:function(e){return l(e.target.value)},required:!0,fullWidth:!0}),Object(M.jsx)(O.a,{error:S,className:A.input,label:"Mot de passe",type:"password",value:g,onChange:function(e){return h(e.target.value)},required:!0,fullWidth:!0}),Object(M.jsx)(w.a,{className:A.input,type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:"Se Connecter"})]})})},Y=n(196),K=(n(139),function(){return Object(M.jsxs)(b.a,{className:"copyright",variant:"body2",align:"center",children:["Copyright \xa9 ",Object(M.jsx)(Y.a,{color:"inherit",href:"https://20h20.fr/",children:"Le 20HeuresVin"})," ",(new Date).getFullYear(),"."]})}),Q=n(46),$=function(e){var t=e.setProduct,n=Object(u.a)((function(e){return{nav:{overflowX:"auto",padding:"8px 0px",display:"flex"},ul:{padding:"0px 8px",margin:"auto",display:"flex",alignItems:"flex-start",listStyle:"none"},li:{width:"80px",alignItems:"center",display:"flex",flexDirection:"column",position:"relative"},imgWrapper:{height:"60px",width:"60px",position:"relative"},image:{height:"100%",width:"100%"},span:{lineHeight:"16px",fontSize:"14px",textAlign:"center",width:"100%"}}}))();return"/"===Object(d.g)().pathname&&t("Suggestions"),Object(M.jsx)("nav",{className:n.nav,children:Object(M.jsx)("ul",{className:n.ul,children:B.map((function(e){return Object(M.jsx)(Q.c,{style:{textDecoration:"none",color:"inherit"},activeStyle:{padding:"4px",backgroundColor:"#202020",fontWeight:"bold",color:"#FF3B2D"},to:"/produits/".concat(e.categoryName),onClick:function(){return t(e.title)},children:Object(M.jsxs)("li",{className:n.li,children:[Object(M.jsx)("div",{className:n.imgWrapper,children:Object(M.jsx)("img",{className:n.image,src:e.icon,alt:e.categoryName})}),Object(M.jsx)("span",{className:n.span,children:e.title})]})},e.categoryName)}))})})},ee=n(197),te=function(e){var t=e.setOpenLoginModal,n=e.user,a=Object(u.a)((function(e){return{root:{flexGrow:1,marginBottom:e.spacing(2),backgroundColor:"black",borderBottom:"1px solid #FF3B2D"},menuButton:{marginRight:e.spacing(2)},imageContainer:{flexGrow:1},image:{width:"150px",height:"75px"},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"}}}))();return Object(M.jsx)("div",{className:a.root,children:Object(M.jsx)(T.a,{position:"static",color:"transparent",children:Object(M.jsxs)(ee.a,{children:[Object(M.jsx)("div",{className:a.imageContainer,children:Object(M.jsx)(Q.b,{to:"/",children:Object(M.jsx)("img",{src:"/20hvinV2/assets/logo/20hvin.png",className:a.image,alt:"logo 20hvin"})})}),Object(M.jsx)(w.a,{color:"inherit",disabled:!!n,onClick:function(){return t(!0)},children:n?"Conn\xe9ct\xe9 !":"Me Connecter"})]})})})},ne=(n(140),function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)([]),u=Object(s.a)(o,2),p=u[0],j=u[1],b=Object(a.useState)(!1),g=Object(s.a)(b,2),h=g[0],f=g[1],O=Object(a.useState)(""),m=Object(s.a)(O,2),x=m[0],v=m[1],y=Object(a.useState)(!1),C=Object(s.a)(y,2),S=C[0],w=C[1],N=navigator.language||navigator.userLanguage,k={get:function(e,t){return((JSON.parse(localStorage.getItem("translations"))||{})[t]||{})[e]},set:function(e,t,n){var a=JSON.parse(localStorage.getItem("translations"))||Object(r.a)({},t,{});a[t]=Object(c.a)(Object(c.a)({},a[t]),{},Object(r.a)({},e,n)),localStorage.setItem("translations",JSON.stringify(a))}};return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(l.b,{cacheProvider:k,from:"fr",to:N,googleApiKey:"AIzaSyBlV19qRfHj05YOzkkavxXTS2HGx2D54Ps",children:Object(M.jsxs)("div",{className:"App",children:[Object(M.jsx)(te,{setOpenLoginModal:f,user:x}),Object(M.jsx)(X,{openLoginModal:h,setUser:v,setOpenLoginModal:f}),Object(M.jsx)($,{setProduct:i}),Object(M.jsxs)(d.d,{children:[Object(M.jsx)(d.b,{exact:!0,path:"/",children:Object(M.jsx)(d.a,{to:"/produits/suggestions"})}),Object(M.jsxs)(d.b,{path:"/produits/:category",children:["isAdmin"===x&&Object(M.jsx)(A,{showAddProduct:S,setShowAddProduct:w,products:p,setProducts:j,setOpenLoginModal:f}),Object(M.jsx)(H,{products:p,setProducts:j,product:n,user:x,setOpenLoginModal:f})]})]})]})}),Object(M.jsx)(K,{})]})}),ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,210)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),o(e),c(e)}))};o.a.render(Object(M.jsx)(Q.a,{children:Object(M.jsx)(ne,{})}),document.getElementById("root")),ae()}},[[141,1,2]]]);
//# sourceMappingURL=main.c3448aa3.chunk.js.map